{"ast":null,"code":"import _toConsumableArray from\"/home/shawn/code/SASutherland/react-scoreboard/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/shawn/code/SASutherland/react-scoreboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Header from'./Header.js';import Player from'./Player.js';import AddPlayerForm from'./AddPlayerForm.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([{name:\"Shawn\",score:0,id:1},{name:\"Trevor\",score:0,id:2},{name:\"Ashley\",score:0,id:3},{name:\"Michael\",score:0,id:4}]),_useState2=_slicedToArray(_useState,2),players=_useState2[0],setPlayers=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),highScore=_useState4[0],setHighScore=_useState4[1];useEffect(function(){var scores=players.map(function(player){return player.score;});setHighScore(Math.max.apply(Math,_toConsumableArray(scores)));},[players]);var _useState5=useState(5),_useState6=_slicedToArray(_useState5,2),nextPlayerId=_useState6[0],setNextPlayerId=_useState6[1];var handleRemovePlayer=function handleRemovePlayer(id){setPlayers(function(prevPlayers){return prevPlayers.filter(function(p){return p.id!==id;});});};var handleScoreChange=function handleScoreChange(id,delta){setPlayers(function(prevPlayers){return prevPlayers.map(function(player){if(player.id===id){return{name:player.name,score:player.score+delta,id:player.id};}return player;});});};var handleAddPlayer=function handleAddPlayer(name){setPlayers(function(prevPlayers){return[].concat(_toConsumableArray(prevPlayers),[{name:name,score:0,id:nextPlayerId}]);});setNextPlayerId(function(prevId){return prevId+1;});};return/*#__PURE__*/_jsxs(\"div\",{className:\"scoreboard\",children:[/*#__PURE__*/_jsx(Header,{title:\"Scoreboard\",players:players}),players.map(function(player){return/*#__PURE__*/_jsx(Player,{name:player.name,score:player.score,id:player.id,removePlayer:handleRemovePlayer,changeScore:handleScoreChange,isHighScore:player.score===highScore&&player.score!==0},player.id.toString());}),/*#__PURE__*/_jsx(AddPlayerForm,{addPlayer:handleAddPlayer})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Header","Player","AddPlayerForm","App","name","score","id","players","setPlayers","highScore","setHighScore","scores","map","player","Math","max","nextPlayerId","setNextPlayerId","handleRemovePlayer","prevPlayers","filter","p","handleScoreChange","delta","handleAddPlayer","prevId","toString"],"sources":["/home/shawn/code/SASutherland/react-scoreboard/src/components/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from './Header.js';\nimport Player from './Player.js';\nimport AddPlayerForm from './AddPlayerForm.js';\n\nconst App = () => {\n  const [players, setPlayers] = useState([\n    {\n      name: \"Shawn\",\n      score: 0,\n      id: 1\n    },\n    {\n      name: \"Trevor\",\n      score: 0,\n      id: 2\n    },\n    {\n      name: \"Ashley\",\n      score: 0,\n      id: 3\n    },\n    {\n      name: \"Michael\",\n      score: 0,\n      id: 4\n    }\n  ]);\n\n  const [highScore, setHighScore] = useState();\n\n  useEffect(() => {\n    const scores = players.map(player => player.score);\n    setHighScore(Math.max(...scores));\n  }, [players]);\n\n  const [nextPlayerId, setNextPlayerId] = useState(5);\n\n  const handleRemovePlayer = (id) => {\n    setPlayers(prevPlayers => prevPlayers.filter(p => p.id !== id));\n  }\n\n  const handleScoreChange = (id, delta) => {\n    setPlayers(prevPlayers => prevPlayers.map(player => {\n      if (player.id === id) {\n        return {\n          name: player.name,\n          score: player.score + delta,\n          id: player.id\n        }\n      }\n      return player;\n    }));\n  }\n\n  const handleAddPlayer = (name) => {\n    setPlayers(prevPlayers => [\n    ...prevPlayers,\n      {\n        name,\n        score: 0,\n        id: nextPlayerId,\n      }\n    ])\n    setNextPlayerId(prevId => prevId + 1);\n  }\n\n  return (\n    <div className=\"scoreboard\">\n      <Header\n        title=\"Scoreboard\"\n        players={players}\n      />\n\n      {/* Players list */}\n      {players.map(player =>\n        <Player\n          name={player.name}\n          score={player.score}\n          id={player.id}\n          key={player.id.toString()}\n          removePlayer={handleRemovePlayer}\n          changeScore={handleScoreChange}\n          isHighScore={player.score === highScore && player.score !== 0}\n        />\n      )}\n\n      <AddPlayerForm addPlayer={handleAddPlayer} />\n    </div>\n  );\n\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}